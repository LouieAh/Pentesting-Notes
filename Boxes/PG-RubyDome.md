192.168.178.22
#pdfkit #cve-2022-25765

>[!code]- Scan for open ports (22, 3000)
>![[Pasted image 20240722044841.png]]

>[!code]- Visit port 3000 to discover a HTML to PDF converter
>![[Pasted image 20240722055535.png]]
#### Foothold

>[!code]- Discover the app uses PDFKit and sends requests to /pdf
>Inputting a request that causes it to fail (like http://127.0.0.1) reveals that the web app uses a Ruby gem called PDFKit.
>
>![[Pasted image 20240722055916.png]]
>
>Any requests are sent to the /pdf page
>
>![[Pasted image 20240722044744.png]]
#### Access

>[!code]- Find and execute a exploit for PDFKit
>A Google search for 'PDFKit exploit' reveals this [Github repo](https://github.com/UNICORDev/exploit-CVE-2022-25765).
>
>Once downloaded, we can setup a netcat listener then execute the exploit.
>
>![[Pasted image 20240722060115.png]]
>
>We receive a reverse connection as the user 'andrew'.
>
>![[Pasted image 20240722060155.png]]

>[!success]- Obtain local.txt
>![[Pasted image 20240722060703.png]]

#### Privilege Escalation

